[[extends "./layout/page.html"]]
[[block main()]]
<ta-page :header="header">
    <ta-box :title=" 'XX' + _formKindLabel()">
        <el-form label-width="120px" >
            <el-form-item label="标题" >
                <el-input v-model="form.title"></el-input>
            </el-form-item>
            <el-form-item label="单个图片" >
                <ta-upload v-model="form.photo" action="/admin/upload/photo" ></ta-upload>
            </el-form-item>
            <el-form-item label="单个文件" >
                <ta-upload v-model="form.file" action="/admin/upload/file" ></ta-upload>
            </el-form-item>
            <el-form-item label="多个图片" >
                <ta-upload-list v-model="form.photoList" action="/admin/upload/photo" ></ta-upload-list>
            </el-form-item>
            <el-form-item label="多个文件" >
                <ta-upload-list v-model="form.fileList" action="/admin/upload/file" ></ta-upload-list>
            </el-form-item>
            <el-form-item label="编辑器" >
                <ta-editor v-model="form.content" photo="/admin/upload/photo" > ></ta-editor>
            </el-form-item>
            <el-form-item>
                <el-button type="primary" @click="_submit(form)">{{_formKindLabel()}}</el-button>
            </el-form-item>
        </el-form>
    </ta-box>
</ta-page>
[[end]]
[[block script()]]
<script>
    window.__RENDER_DATA = {}
    // 演示用代码
    if (location.pathname == '/admin/demo_create') {
        __RENDER_DATA = {
            formKind: "create",
            form: {
                title: '',
                file: {
                    filename: "",
                    id: "",
                },
                photo: {
                    src: "",
                    id: "",
                },
                photoList: [],
                fileList: [],
                content: "",
            }
        }
    }
</script>
<script type="module" >
    import * as echartsPkg from "https://cdn.skypack.dev/echarts@4.1.0"
    const echarts = echartsPkg.default
    const header = [
        {
            title: "首页",
            url: TA.m.url_home(),
        },
        {
            title: "列表",
            url: TA.m.url_demo_list(),
        },
    ]
    const vm = new Vue({
        components: {},
        el: "#ta-app",
        data: function () {
            const out = {
                ...__RENDER_DATA,
                search:TA.m._readSearch(),
                header: header,
            }
            return out
        },
        created() {
            const vm = this
        },
        methods: {
            ...TA.m,
        },
        computed:{

        }
    })
</script>
<style>

</style>
[[end]]