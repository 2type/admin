[[extends "./layout/page.html"]]
[[block main()]]
<ta-page :header="header">
    <ta-box>
        <div ref="saleChartNode" style="height: 500px;"></div>
    </ta-box>
</ta-page>
[[end]]
[[block script()]]
<script>
    window.__RENDER_DATA = {

    }
</script>
<script type="module" >
    import * as echartsPkg from "https://cdn.skypack.dev/echarts@4.1.0"
    const echarts = echartsPkg.default
    const header = [
        {
            title: "首页",
            url: "",
        },
    ]
    const vm = new Vue({
        components: {},
        el: "#ta-app",
        data: function () {
            const out = {
                ...__RENDER_DATA,
                header: header,
            }
            return out
        },
        created() {
            const vm = this
            // 一定要延迟渲染
            setTimeout(function (){
                var chart = echarts.init(vm.$refs.saleChartNode);
                // https://echarts.apache.org/examples/zh/editor.html?c=line-stack
                const option = {title: {text: '全局统计'}, tooltip: {trigger: 'axis'}, legend: {data: ['邮件营销', '联盟广告', '视频广告', '直接访问', '搜索引擎'] }, grid: {left: '3%', right: '4%', bottom: '3%', containLabel: true }, toolbox: {feature: {saveAsImage: {} } }, xAxis: {type: 'category', boundaryGap: false, data: ['周一', '周二', '周三', '周四', '周五', '周六', '周日'] }, yAxis: {type: 'value'}, series: [{smooth: true,name: '邮件营销', type: 'line', stack: '总量', data: [120, 132, 101, 134, 90, 230, 210] }, {smooth: true,name: '联盟广告', type: 'line', stack: '总量', data: [220, 182, 191, 234, 290, 330, 310] }, {smooth: true,name: '视频广告', type: 'line', stack: '总量', data: [150, 232, 201, 154, 190, 330, 410] }, {smooth: true,name: '直接访问', type: 'line', stack: '总量', data: [320, 332, 301, 334, 390, 330, 320] }, {smooth: true,name: '搜索引擎', type: 'line', stack: '总量', data: [820, 932, 901, 934, 1290, 1330, 1320] } ]};

                chart.setOption(option);
            }, 500)
        },
        methods: {
            ...TA.m,
        },
        computed:{

        }
    })
</script>
<style>

</style>
[[end]]